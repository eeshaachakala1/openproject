app:
    name: OpenProject
    code: OPENPROJECT 
    notify: eachakala@ecloudcontrol.com
build:
    version: 12.1
    env: DEV
    build_file: none
    output_files: output/*.zip
    image_template: openproject-12.1
    
deploy:
    context: eeshaachakala1/DEV
    type: statefulset
    replicas: 2
    port:
    - 80
    
volumes:
- claim: openproject-assets
  mount: /var/openproject/assets 
  name: assets
  size: 5Gi   
- claim: openproject-backup
  mount: /appz/backup 
  name: backup
  size: 5Gi

    
properties:
  OPENPROJECT_ATTACHMENTS_STORAGE_PATH: /appz/data/openproject/assets/files 
  SECRET_KEY_BASE: 
    vault: SECRET_KEY_BASE
  RSYNC_SECRET:
    vault: RSYNC_SECRET
  FILESYNC_ENABLE: 'yes'
  POSTGRES_HOST: openproject-postgres-13-x
  POSTGRES_PORT: 5432
  POSTGRES_DB: openproject
  POSTGRES_USER: openproject
  POSTGRES_PASSWORD: 
    vault: POSTGRESQL_OPENPROJECT_PASSWORD
  ENABLE_BOARDS: 1
  revision: 88
